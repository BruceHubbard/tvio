<template name="category">
<div class="row">
    {{#if isEpisodic}}
      {{#each episodicGroups}}
        {{> episodicGroup}}
      {{/each}}
    {{else}}
      {{#each mediaFiles}}
        {{> mediaFile}}
      {{/each}}
    {{/if}}
</div>

</template>

<template name="mediaFile">
<div class="col-6 col-lg-3">
  <a href="#" class="pageslide-link"><img src="http://cdn5.nflximg.net/images/1755/2521755.jpg" /></a>
</div>
<div id="{{_id}}" class="col-3 pageslide">
  <h3 class="media-file">{{name}}</h3>
  <button class="play-button btn"><i class="icon-{{icon}}"></i></button>
</div>
</template>

<template name="episodicGroup">
  <div class="col-6 col-lg-3">
    <a href="#" class="pageslide-link"><img src="http://cdn5.nflximg.net/images/1755/2521755.jpg" /></a>
  </div>
  <div id="{{className this}}" class="col-3 pageslide">
    <h3 class="episodic" data-name="{{this}}">{{this}}</h3>
    <table class="table table-condensed episode-list">
      <thead>
        <th></th>
        <th>Season</th>
        <th>Episode</th>
        <th>Progress</th>
      </thead>
      {{#each episodicGroupMediaFiles this}}
        {{> episodicGroupMediaFile}}
      {{/each}}
    </table>
  </div>
</template>

<template name="episodicGroupMediaFile">
  <tr class='media-file'>
    <td><button class="play-button btn"><i class="icon-{{icon}}"></i></button></td>
    <td>{{season}}</td>
    <td>{{episode}}</td>
    <td>
      {{#if viewed}}
        <div class="progress progress-striped {{progressClass}}" style="margin-bottom: 0px;">
          <div class="bar" style="width: {{viewed_percentage}}%"></div>
        </div>
      {{/if}}
    </td>
  </tr>
</template>
